# HEARTBEAT.md — Автоматическое обслуживание

> © Фабрика Контента | OpenClaw Content Factory | Макс Галсон | https://t.me/galsonproai | galson.pro

## Проверки каждые 30 минут

### 1. Контроль контекста
```javascript
if (context_usage > 80%) {
  // Сохранить ключевые решения в learning/
  // Создать snapshot в memory/YYYY-MM-DD.md
  // Подготовить к compaction
}
```

### 2. Автосохранение прогресса
```markdown
## Snapshot HH:MM
### Сделано  
- [завершенные задачи]

### В процессе
- [текущие задачи]

### Решения и инсайты
- [важные выводы за сессию]
```

### 3. Проверка обучения
- Есть ли новые паттерны для записи в `learning/`?
- Получен ли фидбек от пользователя?
- Нужно ли обновить `approved-patterns.md` или `rejected-patterns.md`?

## Еженедельное обслуживание

### Очистка памяти
- Архивировать файлы в `memory/` старше 14 дней
- Объединить повторяющиеся паттерны в `learning/`
- Удалить устаревшие записи

### Анализ эффективности
- Какие скиллы используются чаще всего?
- Какие форматы контента показывают лучшие результаты?
- Есть ли паттерны в предпочтениях пользователя?

## Критические события

### Переполнение контекста (90%+)
1. **СТОП** — прекратить прием новых задач
2. **Сохранить** — записать все ключевые решения
3. **Архивировать** — переместить диалог в memory/
4. **Перезапуск** — новая сессия с clean state

### Потеря контекста бренда
1. **Обнаружить** — нет информации о voice-style
2. **Запросить** — попросить загрузить brand/ файлы  
3. **Не работать** — не создавать контент без контекста

### Системные ошибки
1. **Логировать** — записать ошибку в memory/errors.md
2. **Уведомить** — сообщить пользователю
3. **Fallback** — переключиться на базовый режим

## Метрики качества

### Отслеживать:
- Процент положительного фидбека
- Количество итераций на задачу
- Соответствие voice-style (субъективно)
- Время выполнения типовых задач

### Цели:
- 80%+ положительного фидбека
- Максимум 2 итерации на стандартную задачу
- 100% соответствие тону бренда
- Стабильное время ответа